@use '@angular/material' as mat;

/* Cárgalo una sola vez (puede ir fuera de selector) */
@include mat.core();

/* Define tu tema M3 */
$dark: mat.define-theme((
  color: (
    theme-type: dark,
    primary:  mat.$blue-palette,
    tertiary: mat.$orange-palette, // luego sustituyes por tu paleta dorada
  )
  // density: (scale: 0) // si quieres, en formato objeto
));

/* ¡Importante! Todo mixin de tema, dentro de un selector */
@mixin apply-dark-theme() {
  :root {
    color-scheme: dark;
    @include mat.theme($dark);
    @include mat.all-component-themes($dark);

    & {
        /* === Material System vars === */
        --mat-sys-color-primary:              #c8aa6e;
        --mat-sys-color-on-primary:           #141218;
        --mat-sys-color-primary-container:    #3b2f14;
        --mat-sys-color-on-primary-container: #f3e7cf;
        --mat-sys-color-inverse-primary:      #d1ba86;

        /* Botones */
        --mdc-filled-button-container-color:        var(--mat-sys-color-primary);
        --mdc-filled-button-label-text-color:       var(--mat-sys-color-on-primary);
        --mdc-elevated-button-container-color:      var(--mat-sys-color-primary);
        --mdc-elevated-button-label-text-color:     var(--mat-sys-color-on-primary);
        --mdc-outlined-button-label-text-color:     var(--mat-sys-color-primary);
        --mdc-outlined-button-outline-color:        color-mix(in oklab, var(--mat-sys-color-primary) 55%, transparent);
        --mdc-text-button-label-text-color:         var(--mat-sys-color-primary);

        /* FABs */
        --mdc-fab-container-color:                  var(--mat-sys-color-primary);
        --mdc-fab-icon-color:                       var(--mat-sys-color-on-primary);

        /* Progress bar */
        --mdc-linear-progress-active-indicator-color: var(--mat-sys-color-primary);
        --mdc-circular-progress-active-indicator-color: var(--mat-sys-color-primary);

        /* Checkbox / Switch / Radio */
        --mdc-checkbox-selected-icon-color:         var(--mat-sys-color-on-primary);
        --mdc-checkbox-selected-checkmark-color:    var(--mat-sys-color-on-primary);
        --mdc-checkbox-selected-hover-icon-color:   var(--mat-sys-color-on-primary);
        --mdc-checkbox-selected-focus-icon-color:   var(--mat-sys-color-on-primary);
        --mdc-switch-selected-track-color:          var(--mat-sys-color-primary);
        --mdc-switch-selected-handle-color:         var(--mat-sys-color-on-primary);
        --mdc-radio-selected-icon-color:            var(--mat-sys-color-primary);

        /* Slider */
        --mdc-slider-handle-color:                  var(--mat-sys-color-primary);
        --mdc-slider-active-track-color:            var(--mat-sys-color-primary);

        /* Tab Group / Navigation */
        --mdc-tab-indicator-active-color:           var(--mat-sys-color-primary);
        --mdc-tab-label-text-color:                 var(--mat-sys-color-primary);

        /* Chips */
        --mdc-chip-elevated-container-color:        color-mix(in oklab, var(--mat-sys-color-primary) 15%, transparent);
        --mdc-chip-label-text-color:                var(--mat-sys-color-primary);

        /* Icon buttons */
        --mdc-icon-button-icon-color:               var(--mat-sys-color-primary);

        /* Tooltips */
        --mdc-tooltip-container-color:              color-mix(in oklab, var(--mat-sys-color-primary) 90%, #000);

        --mat-icon-color:                           var(--mat-sys-color-on-primary-container);             
    }
  }
}